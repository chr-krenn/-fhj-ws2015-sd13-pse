<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

	<p:panel header="News">
		<p:dataScroller value="#{simpleFeedController.getNews(1)}"
			var="news" chunkSize="10" mode="inline" scrollHeight="400">
			<h:panelGrid columns="1" style="width:100%"
				columnClasses="logo,detail">
				<p:outputPanel>
					<h:panelGrid columns="7" cellpadding="5">
						<h:outputText value="Datum:" />
						<h:outputText value="#{news.date}"
							style="font-weight: bold">
							<f:convertDateTime pattern="dd.MM.yyyy HH:mm" />
						</h:outputText>
						<h:commandButton
							action="#{messageDetailsController.openDetailView}"
							value="Details" icon="ui-icon-search">
							<f:param name="messageId" value="#{news.id}" />
						</h:commandButton>
					</h:panelGrid>
					<h:panelGrid columns="2" cellpadding="5">
						<p:graphicImage id="newsIcon" styleClass="userimage"
							value="#{news.imageRef}" cache="false"
							rendered="#{news.imageRef ne null}" />
						<h:panelGrid>
							<h:outputText value="#{news.headline} &lt;br/&gt;"
								escape="false" style="font-weight: bold" />
							<h:outputText value="#{news.text}" escape="false" />
						</h:panelGrid>
					</h:panelGrid>
					<h:panelGrid >
						<p:commandButton rendered="#{userProfileController.canEditNews}" id="editNewsBtn" value="Bearbeiten"
							action="#{messageDetailsController.openDetailView}">
							<f:param name="messageId" value="#{news.id}" />
						</p:commandButton>
					</h:panelGrid>
				</p:outputPanel>
			</h:panelGrid>
		</p:dataScroller>
	</p:panel>
</ui:composition>